<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=9" />
<title>ECCE @ EIC Software: geant4/tree/geant4-10.6-release/examples/advanced/doiPET/src/doiPETDetectorConstruction.cc Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script> <link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script> 
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E4SX1RFCJ9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-E4SX1RFCJ9');
</script>
</head>
<body>
	<div id="top">
		<!-- do not remove this div, it is closed by doxygen! -->
		<div id="titlearea">
			<table cellspacing="0" cellpadding="0">
				<tbody>
					<tr style="height: 56px;">
						<td id="projectlogo"><a href="https://ecce-eic.github.io/"><img
								alt="Logo" src="../../ion-collision-xparent-crop.png" height="100"/></a></td>
						<td style="padding-left: 0.5em;">
							<div id="projectname">
								ECCE @ EIC Software
							</div> 
							<div id="projectbrief">
								Reference for 
								<a href="https://www.ecce-eic.org/">ECCE @ EIC</a> 
								<a href="https://ecce-eic.github.io/">simulation and reconstruction software on GitHub</a>
							</div> 
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Home&#160;page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../usergroup0.html"><span>External&#160;Links</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d26/doiPETDetectorConstruction_8cc_source.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">doiPETDetectorConstruction.cc</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../de/d26/doiPETDetectorConstruction_8cc.html">Go to the documentation of this file.</a> Or view <a target="top" href="https://github.com/ECCE-EIC/geant4/tree/geant4-10.6-release/examples/advanced/doiPET/src/doiPETDetectorConstruction.cc">the newest version in sPHENIX GitHub for file doiPETDetectorConstruction.cc</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">// ********************************************************************</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">// * License and Disclaimer                                           *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">// *                                                                  *</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">// * The  Geant4 software  is  copyright of the Copyright Holders  of *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">// * the Geant4 Collaboration.  It is provided  under  the terms  and *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">// * conditions of the Geant4 Software License,  included in the file *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">// * LICENSE and available at  http://cern.ch/geant4/license .  These *</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">// * include a list of copyright holders.                             *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">// *                                                                  *</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">// * Neither the authors of this software system, nor their employing *</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment">// * institutes,nor the agencies providing financial support for this *</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">// * work  make  any representation or  warranty, express or implied, *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">// * regarding  this  software system or assume any liability for its *</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">// * use.  Please see the license in the file  LICENSE  and URL above *</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment">// * for the full disclaimer and the limitation of liability.         *</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment">// *                                                                  *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">// * This  code  implementation is the result of  the  scientific and *</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// * technical work of the GEANT4 collaboration.                      *</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">// * By using,  copying,  modifying or  distributing the software (or *</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">// * any work based  on the software)  you  agree  to acknowledge its *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">// * use  in  resulting  scientific  publications,  and indicate your *</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">// * acceptance of all terms of the Geant4 Software license.          *</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="comment">// ********************************************************************</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="comment">//GEANT4 - Depth-of-Interaction enabled Positron emission tomography (PET) advanced example </span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="comment">//Authors and contributors</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// Author list to be updated, with names of co-authors and contributors from National Institute of Radiological Sciences (NIRS)</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">// Abdella M. Ahmed (1, 2), Andrew Chacon (1, 2), Harley Rutherford (1, 2),</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">// Hideaki Tashima (3), Go Akamatsu (3), Akram Mohammadi (3), Eiji Yoshida (3), Taiga Yamaya (3)</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">// Susanna Guatelli (2), and Mitra Safavi-Naeini (1, 2)</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">// (1) Australian Nuclear Science and Technology Organisation, Australia</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">// (2) University of Wollongong, Australia</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">// (3) National Institute of Radiological Sciences, Japan</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">//A whole-body PET scanner with depth-of-intercation (DOI) detector is </span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">//defined in the doiPETDetectorConstruction class and varius types phantoms </span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">//are also defined based on the NEMA NU-2 2012 standard protocol for</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment">//performance evaluation PET scanners. </span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//The scanner&#39;s geometrical specifications (like number of crystals, number of rings ...) are defined as a global variable in the doiPETGlobalParameters.hh</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">//If the phantom is other there the phantoms defined, exception will be thrown. If you want to run the simulation without phantom (for any reason),</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//you can comment out ConstructPhantom(world_logicalV) method. </span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d7d/doiPETDetectorConstruction_8hh.html">doiPETDetectorConstruction.hh</a>&quot;</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d30/doiPETAnalysis_8hh.html">doiPETAnalysis.hh</a>&quot;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/d69/doiPETDetectorConstructionMessenger_8hh.html">doiPETDetectorConstructionMessenger.hh</a>&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html">doiPETGlobalParameters.hh</a>&quot;</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/de1/G4NistManager_8hh.html">G4NistManager.hh</a>&quot;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d8f/G4Box_8hh.html">G4Box.hh</a>&quot;</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d10/G4Tubs_8hh.html">G4Tubs.hh</a>&quot;</span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/da7/G4LogicalVolume_8hh.html">G4LogicalVolume.hh</a>&quot;</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/da4/G4PVPlacement_8hh.html">G4PVPlacement.hh</a>&quot;</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/de4/G4RotationMatrix_8hh.html">G4RotationMatrix.hh</a>&quot;</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/dd7/G4Transform3D_8hh.html">G4Transform3D.hh</a>&quot;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d4b/G4SDManager_8hh.html">G4SDManager.hh</a>&quot;</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d8a/G4MultiFunctionalDetector_8hh.html">G4MultiFunctionalDetector.hh</a>&quot;</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d1d/G4VPrimitiveScorer_8hh.html">G4VPrimitiveScorer.hh</a>&quot;</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/db0/G4PSEnergyDeposit_8hh.html">G4PSEnergyDeposit.hh</a>&quot;</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d83/G4PSDoseDeposit_8hh.html">G4PSDoseDeposit.hh</a>&quot;</span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d5e/G4VisAttributes_8hh.html">G4VisAttributes.hh</a>&quot;</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d2b/G4PhysicalConstants_8hh.html">G4PhysicalConstants.hh</a>&quot;</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d91/G4SystemOfUnits_8hh.html">G4SystemOfUnits.hh</a>&quot;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d55/G4SubtractionSolid_8hh.html">G4SubtractionSolid.hh</a>&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d80/G4UnionSolid_8hh.html">G4UnionSolid.hh</a>&quot;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d61/G4IntersectionSolid_8hh.html">G4IntersectionSolid.hh</a>&quot;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d43/G4Element_8hh.html">G4Element.hh</a>&quot;</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/dc8/G4Material_8hh.html">G4Material.hh</a>&quot;</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d10/G4Sphere_8hh.html">G4Sphere.hh</a>&quot;</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d56/G4Colour_8hh.html">G4Colour.hh</a>&quot;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/de4/G4RunManager_8hh.html">G4RunManager.hh</a>&quot;</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d62/G4StateManager_8hh.html">G4StateManager.hh</a>&quot;</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d80/G4GeometryManager_8hh.html">G4GeometryManager.hh</a>&quot;</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d21/G4PhysicalVolumeStore_8hh.html">G4PhysicalVolumeStore.hh</a>&quot;</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dde/G4LogicalVolumeStore_8hh.html">G4LogicalVolumeStore.hh</a>&quot;</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/de5/G4SolidStore_8hh.html">G4SolidStore.hh</a>&quot;</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a94cb2961597f630b5e9a5cfb5590f5cd">   90</a></span>&#160;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a94cb2961597f630b5e9a5cfb5590f5cd">doiPETDetectorConstruction::doiPETDetectorConstruction</a>()</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  : <a class="code" href="../../d6/df8/classG4VUserDetectorConstruction.html">G4VUserDetectorConstruction</a>(),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  fCheckOverlaps(<a class="code" href="../../d5/dc0/BoolDefs_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a>)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9a50e0ebdfa343407b23f8d5f05d94b2">DefineMaterials</a>();</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9f4ee874492bfcde9e972be07cc3b567">fDetectorMessenger</a> = <span class="keyword">new</span> <a class="code" href="../../d8/d09/classdoiPETDetectorConstructionMessenger.html">doiPETDetectorConstructionMessenger</a>(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">//Initialize variables. The following variables can be changed via the run.mac file.</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> = <span class="stringliteral">&quot;NEMA_phantom_NECR&quot;</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a> = 100 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a> = 700 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a> = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;}</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a85026c952a27c2007c946fd5afd9806e">  106</a></span>&#160;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a85026c952a27c2007c946fd5afd9806e">doiPETDetectorConstruction::~doiPETDetectorConstruction</a>()</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">delete</span> <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9f4ee874492bfcde9e972be07cc3b567">fDetectorMessenger</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9a50e0ebdfa343407b23f8d5f05d94b2">  113</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9a50e0ebdfa343407b23f8d5f05d94b2">doiPETDetectorConstruction::DefineMaterials</a>()</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;{</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <a class="code" href="../../d2/d00/classG4NistManager.html">G4NistManager</a>* nist = <a class="code" href="../../d2/d00/classG4NistManager.html#ad0dbad7785358d8c46139b4d808c65db">G4NistManager::Instance</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">//Define air</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a95f8e3693b34ef958d69bd4f9f31135e">air</a> = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#abb3a53647400f8477dfe1cae931c3e72">FindOrBuildMaterial</a>(<span class="stringliteral">&quot;G4_AIR&quot;</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  <span class="comment">//Define PMMA</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9751abebb17a86587b9a841c14834b1b">pmma</a>  = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#abb3a53647400f8477dfe1cae931c3e72">FindOrBuildMaterial</a>(<span class="stringliteral">&quot;G4_PLEXIGLASS&quot;</span>); <span class="comment">//Default 1.19 g/cm3</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">//Define water</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac10954be31e8696fbbeb85223335a8f0">water</a>  = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#abb3a53647400f8477dfe1cae931c3e72">FindOrBuildMaterial</a>(<span class="stringliteral">&quot;G4_WATER&quot;</span>);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="comment">//Defining polyethylene from NIST and modifying the density</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ad900904cd2d1ddb0349264300d29e4e2">polyethylene</a> = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#a90d0fe1c99b47baa2b1c2432d9bfcaa2">BuildMaterialWithNewDensity</a>(<span class="stringliteral">&quot;polyethylene&quot;</span>,<span class="stringliteral">&quot;G4_POLYETHYLENE&quot;</span>,0.959*<a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#a0dec1d28a12e5e2d0c1dd67e2b603a61">g</a>/<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a3715539ca0d1cce0f288813958dda287">cm3</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ad900904cd2d1ddb0349264300d29e4e2">polyethylene</a>-&gt;<a class="code" href="../../d5/de4/classG4Material.html#a6ab8fd65f7f20ece6b570093b2229e11">GetIonisation</a>()-&gt;<a class="code" href="../../d6/d69/classG4IonisParamMat.html#ac1071d1716eb275f3327b5bbb3b7ed3f">SetMeanExcitationEnergy</a>(56*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#aa515e5d787460f9c978a23bd22140482">eV</a>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">//polyethylene_NEMA, defualt density 0.94 g/cm3, and excitation energy = 57.4 eV</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ace00d6c9f15bbd5c80b9d8f04ddba36b">polyethylene_NEMA</a> = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#abb3a53647400f8477dfe1cae931c3e72">FindOrBuildMaterial</a>(<span class="stringliteral">&quot;G4_POLYETHYLENE&quot;</span>);</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  <span class="comment">//Define expanded polystyrene by modifiying the density to mimic lung phantom used in phantom experiment</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa186127a722eb8db607a85b7515886e8">polystyrene</a> = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#a90d0fe1c99b47baa2b1c2432d9bfcaa2">BuildMaterialWithNewDensity</a>( <span class="stringliteral">&quot;polystyrene&quot;</span>,<span class="stringliteral">&quot;G4_POLYSTYRENE&quot;</span>,0.3*<a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#a0dec1d28a12e5e2d0c1dd67e2b603a61">g</a>/<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a3715539ca0d1cce0f288813958dda287">cm3</a>); </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a128873b4e19ab50df2517e5c0363c41f">isotopes</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <span class="comment">//Defile Aluminum material for the detetor cover</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1722199db0cb4de8b83ba7cd9c9245a8">Aluminum</a> = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#abb3a53647400f8477dfe1cae931c3e72">FindOrBuildMaterial</a>(<span class="stringliteral">&quot;G4_Al&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a128873b4e19ab50df2517e5c0363c41f">isotopes</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="comment">//Define elements for the GSO  crystal (scintillator) </span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a502245bb4a7e2f009f9a82f24c672047">O</a> = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#af3df7aafa89652b9fe31735c0eab7b12">FindOrBuildElement</a>(<span class="stringliteral">&quot;O&quot;</span> , <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a128873b4e19ab50df2517e5c0363c41f">isotopes</a>); </div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8864b9b3c0d9bcb9f0bbb722497a66d3">Si</a> = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#af3df7aafa89652b9fe31735c0eab7b12">FindOrBuildElement</a>(<span class="stringliteral">&quot;Si&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a128873b4e19ab50df2517e5c0363c41f">isotopes</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#abbc3771c73065c8e3be1a2c6d7f757cf">Gd</a> = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#af3df7aafa89652b9fe31735c0eab7b12">FindOrBuildElement</a>(<span class="stringliteral">&quot;Gd&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a128873b4e19ab50df2517e5c0363c41f">isotopes</a>);  </div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">//define GSO crystal for PET detector</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2ca915488434bf02dec85fcb1a5a823d">GSO</a> = <span class="keyword">new</span> <a class="code" href="../../d5/de4/classG4Material.html">G4Material</a>(<span class="stringliteral">&quot;GSO&quot;</span>, 6.7*<a class="code" href="../../d6/d4d/namespaceActs_1_1UnitConstants.html#a0dec1d28a12e5e2d0c1dd67e2b603a61">g</a>/<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a3715539ca0d1cce0f288813958dda287">cm3</a>, 3);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2ca915488434bf02dec85fcb1a5a823d">GSO</a>-&gt;<a class="code" href="../../d5/de4/classG4Material.html#a6787765bd3b0ef535161b887e7462417">AddElement</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#abbc3771c73065c8e3be1a2c6d7f757cf">Gd</a>, 2);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2ca915488434bf02dec85fcb1a5a823d">GSO</a>-&gt;<a class="code" href="../../d5/de4/classG4Material.html#a6787765bd3b0ef535161b887e7462417">AddElement</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8864b9b3c0d9bcb9f0bbb722497a66d3">Si</a>, 1);</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2ca915488434bf02dec85fcb1a5a823d">GSO</a>-&gt;<a class="code" href="../../d5/de4/classG4Material.html#a6787765bd3b0ef535161b887e7462417">AddElement</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a502245bb4a7e2f009f9a82f24c672047">O</a>,  5); </div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a20f642eea0f7ef613dde561fe3d1e4dd">crystalMaterial</a>   = nist-&gt;<a class="code" href="../../d2/d00/classG4NistManager.html#abb3a53647400f8477dfe1cae931c3e72">FindOrBuildMaterial</a>(<span class="stringliteral">&quot;GSO&quot;</span>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa1ce34a7014e8c9393581ac12a6be071">  158</a></span>&#160;<a class="code" href="../../d1/d28/classG4VPhysicalVolume.html">G4VPhysicalVolume</a>* <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa1ce34a7014e8c9393581ac12a6be071">doiPETDetectorConstruction::Construct</a>()</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;{  </div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="comment">//size of the world</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a5a36909ed2b2c1d846fc5543a4d17fe5">worldSizeX</a> = 2 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a>;<span class="comment">//0.5 *mm</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a60e40bd07822ccfc6fa1023e9542aecf">worldSizeY</a> = 2 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a>;<span class="comment">//0.5*mm</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4771ab90634b8cb0fe90971fe0dd52cc">worldSizeZ</a> = 4. * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a464ce8bbf4d8ed92118001a70ba3f7ee">m</a>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="comment">// Define a solid shape to describe the world volume</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>* solid_world = <span class="keyword">new</span> <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>(<span class="stringliteral">&quot;world&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a5a36909ed2b2c1d846fc5543a4d17fe5">worldSizeX</a>/2., <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a60e40bd07822ccfc6fa1023e9542aecf">worldSizeY</a>/2., <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4771ab90634b8cb0fe90971fe0dd52cc">worldSizeZ</a>/2.);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  <span class="comment">// Define a logical volume for the world volume</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8ee8700af7a737c753bbd7f150e4a177">world_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(solid_world, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a95f8e3693b34ef958d69bd4f9f31135e">air</a>, <span class="stringliteral">&quot;world_logicalV&quot;</span>, 0,0,0);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="comment">// Define the physical world volume</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a3b9d2afe9e0c27f23c7605941fcfeacd">world_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(),<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8ee8700af7a737c753bbd7f150e4a177">world_logicalV</a>, <span class="stringliteral">&quot;world_physicalV&quot;</span>, 0, <span class="keyword">false</span>, 0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8ee8700af7a737c753bbd7f150e4a177">world_logicalV</a>-&gt;<a class="code" href="../../da/dc4/classG4LogicalVolume.html#ac048c68d9aacf76073be2b29c257094e">SetVisAttributes</a> (<a class="code" href="../../dc/df1/classG4VisAttributes.html#ae5f4feceb6813d49df3e52f29637df7c">G4VisAttributes::Invisible</a>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  <span class="comment">//NOTE!!!</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="comment">//The scanner specification (like size and number of crystals in each detctor) are given in the &quot;doiPETGlobalParameters.hh&quot; header file.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="comment">//Each block detector is identified with its unique number, blockIndex.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a6888a28b5df52d7eb60203f853358c94">blockIndex</a> = 0;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;  <span class="comment">//Each crystal is identified with its unique number, crystalIndex</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a83d11e9354b4f2bdbf9866aad24ae7a8">crystalIndex</a> = 0;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  <span class="comment">//This is to place the phantom. </span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aefc1999ce090030bf2c08617089c813b">ConstructPhantom</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8ee8700af7a737c753bbd7f150e4a177">world_logicalV</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <span class="comment">//Define air volume (box) to fill the detector block. Crystal elements (scintillators) is then placed.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7d1a7cc827c1907da1d7189738b4f6b4">sizeOfAirBox_DOI</a> = (<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#ad27d8edbd1e9dc078d169635301da3f2">numberOfCrystal_DOI</a> * <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a88f2206d3b8d8d43a9a07eb3748c6608">sizeOfCrystal_DOI</a>) + (<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#ad27d8edbd1e9dc078d169635301da3f2">numberOfCrystal_DOI</a> - 1)*<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a33ec570bcb9b8dd858134d60c4f62c63">crystalGap_DOI</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1eaaefd2a7875f43bbac1cccf2f17759">sizeOfAirBox_axial</a> = (<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a87689730826dceb168af9371b29b9610">numberOfCrystal_axial</a> * <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a476d74851fd156afb6b8a9523fb24737">sizeOfCrystal_axial</a>) + (<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a87689730826dceb168af9371b29b9610">numberOfCrystal_axial</a> - 1)*<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3742dbd06ab38a7f47d8810e62aaba6c">crystalGap_axial</a>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a58fa7c845c8614a51bb9a8287b2aa9a3">sizeOfAirBox_tangential</a> = (<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3ff7bd84b525f15586b724a5b4712a31">numberOfCrystal_tangential</a> * <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#ac3b5178e13d9a309f2c5bfce6ff54e9e">sizeOfCrystal_tangential</a>) + (<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3ff7bd84b525f15586b724a5b4712a31">numberOfCrystal_tangential</a> - 1)*<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a412b1c61bd27216e2f114d9e52052720">crystalGap_tangential</a>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;  <span class="comment">//This will pass the size of the detector block so that the position of the PMT will be calculated with respect to the axis of the detector block.</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="comment">//see doiPETAnalysis.cc</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a0b9281a489fba150a77820a9ab8637dd">pAnalysis</a> = <a class="code" href="../../dd/de8/classdoiPETAnalysis.html#ab2d5323422656f1166c3b7654411a82a">doiPETAnalysis::GetInstance</a>();</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a0b9281a489fba150a77820a9ab8637dd">pAnalysis</a>-&gt;<a class="code" href="../../dd/de8/classdoiPETAnalysis.html#ab5e4aad4fac9d6bdb91b70a6a317daf4">GetSizeOfDetector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7d1a7cc827c1907da1d7189738b4f6b4">sizeOfAirBox_DOI</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a58fa7c845c8614a51bb9a8287b2aa9a3">sizeOfAirBox_tangential</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1eaaefd2a7875f43bbac1cccf2f17759">sizeOfAirBox_axial</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;  <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;size of crytal element: &quot;</span>&lt;&lt;<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#ac3b5178e13d9a309f2c5bfce6ff54e9e">sizeOfCrystal_tangential</a>&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a476d74851fd156afb6b8a9523fb24737">sizeOfCrystal_axial</a>&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a88f2206d3b8d8d43a9a07eb3748c6608">sizeOfCrystal_DOI</a>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;Size of detector block (without Al cover): &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a58fa7c845c8614a51bb9a8287b2aa9a3">sizeOfAirBox_tangential</a>&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1eaaefd2a7875f43bbac1cccf2f17759">sizeOfAirBox_axial</a>&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7d1a7cc827c1907da1d7189738b4f6b4">sizeOfAirBox_DOI</a>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;  <span class="comment">//Define the size of the detector block. </span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa54f299a519a24920428dec123e91875">sizeOfBlockDetector_DOI</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7d1a7cc827c1907da1d7189738b4f6b4">sizeOfAirBox_DOI</a> + <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3e604320c5193dcfe216a7f2f6771742">AluminumCoverThickness</a>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#af5a9ea7fb07715c81dc92705311af7e3">sizeOfBlockDetector_axial</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1eaaefd2a7875f43bbac1cccf2f17759">sizeOfAirBox_axial</a> + <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3e604320c5193dcfe216a7f2f6771742">AluminumCoverThickness</a>;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac3bf54fc65c249320a35366dc48836e5">sizeOfBlockDetector_tangential</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a58fa7c845c8614a51bb9a8287b2aa9a3">sizeOfAirBox_tangential</a> + <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3e604320c5193dcfe216a7f2f6771742">AluminumCoverThickness</a>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="comment">//Define solid shape for the detector block</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;  <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>* blockDetector = <span class="keyword">new</span> <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>(<span class="stringliteral">&quot;blockDetector&quot;</span>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa54f299a519a24920428dec123e91875">sizeOfBlockDetector_DOI</a>/2,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac3bf54fc65c249320a35366dc48836e5">sizeOfBlockDetector_tangential</a>/2,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#af5a9ea7fb07715c81dc92705311af7e3">sizeOfBlockDetector_axial</a>/2);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">//Define the logical volume for the detector block</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a526ac3010d4c23cb0d667cb3424a2ffb">blockDetector_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(blockDetector,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1722199db0cb4de8b83ba7cd9c9245a8">Aluminum</a>,<span class="stringliteral">&quot;blockDetector_logicalV&quot;</span>, 0,0,0);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">//Define air (box) inside the detector block. Crystal elements will be placed in it.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>* airBox = <span class="keyword">new</span> <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>(<span class="stringliteral">&quot;airBox&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7d1a7cc827c1907da1d7189738b4f6b4">sizeOfAirBox_DOI</a>/2, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a58fa7c845c8614a51bb9a8287b2aa9a3">sizeOfAirBox_tangential</a>/2,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1eaaefd2a7875f43bbac1cccf2f17759">sizeOfAirBox_axial</a>/2);</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  <span class="comment">//Define the logical volume</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aaf45caaf274a509680bc365bc4039ea3">airBox_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(airBox,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a95f8e3693b34ef958d69bd4f9f31135e">air</a>,<span class="stringliteral">&quot;airBox_logicalV&quot;</span>, 0,0,0);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  <span class="comment">//Define its physical volume and place it inside the detector block</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#adee5b93696afc0dd8f3d82b270767b95">airBox_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a> (0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0),<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aaf45caaf274a509680bc365bc4039ea3">airBox_logicalV</a>,<span class="stringliteral">&quot;airBox_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a526ac3010d4c23cb0d667cb3424a2ffb">blockDetector_logicalV</a>,<span class="keyword">false</span>,0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="../../de/d29/G4Types_8hh.html#ae885d08a5d474cadaa9123b42be464fb">G4int</a> Ring = 0; Ring&lt; <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a0128b665fb7984d8755f3180cccceb8b">numberOfRings</a>; Ring++)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;  {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">//place the detectors in a ring along the axial direction. Note that the ring gap between two adjcent rings is measured from scintillator to scintillator.  It does not include the Aluminum thickness cover.</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#acea580b084f60927cd040e28e90674ea">detectorPositionZ</a> = (Ring-((<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a>)numberOfRings)/2 + 0.5)*(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#af5a9ea7fb07715c81dc92705311af7e3">sizeOfBlockDetector_axial</a> + <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#afcca97aad89e828e51307a5e687ff7e6">ringGap</a> - <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3e604320c5193dcfe216a7f2f6771742">AluminumCoverThickness</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="../../de/d29/G4Types_8hh.html#ae885d08a5d474cadaa9123b42be464fb">G4int</a> i = 0; i&lt;<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#aff3720ec3e7f49b7883308aaa8cc41ea">numberOfDetector_perRing</a>; i++)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;      <span class="comment">//The azimuthal angle to arrange the detectors in a ring</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7bfd2db054994d7ba4b4541352730cbb">thetaDetector</a> = (double)(i*<a class="code" href="../../d4/d51/vector__math__inline_8h.html#a28f133ceff248c953493c42d2287c662">twopi</a>/numberOfDetector_perRing);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;      <span class="comment">//The radius of the scanner is measured from opposing crystal (scintillator) faces. It does not include the Aluminum thickness cover.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a71d1a692ad90f22da31261074ef8d346">detectorPositionX</a> = (<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a09da24b910416b922a539df991b6e72a">scannerRadius</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa54f299a519a24920428dec123e91875">sizeOfBlockDetector_DOI</a>/2 - AluminumCoverThickness/2)*std::cos(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7bfd2db054994d7ba4b4541352730cbb">thetaDetector</a>);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4eec37763ebb3971cb8c1c5523f38250">detectorPositionY</a> = (<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a09da24b910416b922a539df991b6e72a">scannerRadius</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa54f299a519a24920428dec123e91875">sizeOfBlockDetector_DOI</a>/2 - AluminumCoverThickness/2)*std::sin(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7bfd2db054994d7ba4b4541352730cbb">thetaDetector</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;      <span class="comment">//Define the rotation matrix for correct placement of detetors</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;      <a class="code" href="../../dd/d65/classCLHEP_1_1HepRotation.html">G4RotationMatrix</a> rotm_PET = <a class="code" href="../../d4/de4/G4RotationMatrix_8hh.html#a4264fa47b7ec70c4e2a2163b75e7756d">G4RotationMatrix</a>();</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      rotm_PET.<a class="code" href="../../dd/d65/classCLHEP_1_1HepRotation.html#ac60c2a08a88c544733d840a166dcb7a8">rotateZ</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7bfd2db054994d7ba4b4541352730cbb">thetaDetector</a>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;      <a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> uz_PET = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a71d1a692ad90f22da31261074ef8d346">detectorPositionX</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4eec37763ebb3971cb8c1c5523f38250">detectorPositionY</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#acea580b084f60927cd040e28e90674ea">detectorPositionZ</a>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <a class="code" href="../../dd/de6/classHepGeom_1_1Transform3D.html">G4Transform3D</a> <a class="code" href="../../dd/d7e/namespaceActs_1_1Test.html#a44ab9644d080b02c91a8935c650bd2fb">transform</a> = <a class="code" href="../../d3/dd7/G4Transform3D_8hh.html#a86d01e8f65ce4538cc583e0b99333e9d">G4Transform3D</a>(rotm_PET,uz_PET);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="comment">//Define the physical volume of the detectors.</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2a2ce1278750b5b15fe85fc31cc1074b">blockDetector_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a> (transform,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a526ac3010d4c23cb0d667cb3424a2ffb">blockDetector_logicalV</a>,<span class="stringliteral">&quot;blockDetector_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8ee8700af7a737c753bbd7f150e4a177">world_logicalV</a>,<span class="keyword">false</span>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a6888a28b5df52d7eb60203f853358c94">blockIndex</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a6888a28b5df52d7eb60203f853358c94">blockIndex</a>++;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="comment">//G4cout&lt;&lt;Ring&lt;&lt;&quot; &quot;&lt;&lt;detectorPositionX- ((sizeOfBlockDetector_DOI - AluminumCoverThickness)/2)*cos(thetaDetector)&lt;&lt;&quot; &quot;&lt;&lt;detectorPositionY- ((sizeOfBlockDetector_DOI- AluminumCoverThickness)/2)*sin(thetaDetector)&lt;&lt;&quot; &quot;&lt;&lt;detectorPositionZ&lt;&lt;G4endl;</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="comment">//Define the solid crystal</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  <a class="code" href="../../da/d34/classG4VSolid.html">G4VSolid</a>* CrystalSolid = <span class="keyword">new</span> <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>(<span class="stringliteral">&quot;Crystal&quot;</span>, <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a88f2206d3b8d8d43a9a07eb3748c6608">sizeOfCrystal_DOI</a>/2., <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#ac3b5178e13d9a309f2c5bfce6ff54e9e">sizeOfCrystal_tangential</a>/2., <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a476d74851fd156afb6b8a9523fb24737">sizeOfCrystal_axial</a>/2.);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">//Define the local volume of the crystal</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ab9604511c1fd7514081c744bcf1e9405">crystal_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(CrystalSolid,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a20f642eea0f7ef613dde561fe3d1e4dd">crystalMaterial</a>,<span class="stringliteral">&quot;Crystal_logicalV&quot;</span>, 0,0,0);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="comment">//Place the crystals inside the detectors and give them a unique number with crystalIndex.</span></div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">for</span>(<a class="code" href="../../de/d29/G4Types_8hh.html#ae885d08a5d474cadaa9123b42be464fb">G4int</a> i_DOI = 0; i_DOI&lt;<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#ad27d8edbd1e9dc078d169635301da3f2">numberOfCrystal_DOI</a>; i_DOI++){</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ad597eb3491bcd4100a48e39ab462bc69">crystalPositionX</a>=(i_DOI-((<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a>)numberOfCrystal_DOI)/2 + 0.5)*(<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a88f2206d3b8d8d43a9a07eb3748c6608">sizeOfCrystal_DOI</a> + <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a33ec570bcb9b8dd858134d60c4f62c63">crystalGap_DOI</a>);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="../../de/d29/G4Types_8hh.html#ae885d08a5d474cadaa9123b42be464fb">G4int</a> i_axial=0; i_axial&lt; <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a87689730826dceb168af9371b29b9610">numberOfCrystal_axial</a>;i_axial++){</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4789c7a18888adbf2ac7b8444aa89a3e">crystalPositionZ</a> = (i_axial-((<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a>)numberOfCrystal_axial)/2 + 0.5)*(<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a476d74851fd156afb6b8a9523fb24737">sizeOfCrystal_axial</a> + <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3742dbd06ab38a7f47d8810e62aaba6c">crystalGap_axial</a>);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      <span class="keywordflow">for</span>(<a class="code" href="../../de/d29/G4Types_8hh.html#ae885d08a5d474cadaa9123b42be464fb">G4int</a> i_tan=0; i_tan&lt;<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a3ff7bd84b525f15586b724a5b4712a31">numberOfCrystal_tangential</a>;i_tan++){</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ae639a6166f2fdf1a31dc642295a50a5e">crystalPositionY</a>=(i_tan-((<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a>)numberOfCrystal_tangential)/2 + 0.5)*(<a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#ac3b5178e13d9a309f2c5bfce6ff54e9e">sizeOfCrystal_tangential</a> + <a class="code" href="../../d7/d82/doiPETGlobalParameters_8hh.html#a412b1c61bd27216e2f114d9e52052720">crystalGap_tangential</a>);</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">//G4cout&lt;&lt;crystalIndex&lt;&lt;&quot; &quot;&lt;&lt;crystalPositionX&lt;&lt;&quot; &quot;&lt;&lt;crystalPositionY&lt;&lt;&quot; &quot;&lt;&lt;crystalPositionZ&lt;&lt;G4endl;</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">//place the crystal inside the block detector. </span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#afded46a175e0ff7273674f83b053c7cd">crystal_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a> (0, <a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> (<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ad597eb3491bcd4100a48e39ab462bc69">crystalPositionX</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ae639a6166f2fdf1a31dc642295a50a5e">crystalPositionY</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4789c7a18888adbf2ac7b8444aa89a3e">crystalPositionZ</a>), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ab9604511c1fd7514081c744bcf1e9405">crystal_logicalV</a>, <span class="stringliteral">&quot;Crystal_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aaf45caaf274a509680bc365bc4039ea3">airBox_logicalV</a>,<span class="keyword">false</span>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a83d11e9354b4f2bdbf9866aad24ae7a8">crystalIndex</a><span class="comment">/*,fCheckOverlaps*/</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a83d11e9354b4f2bdbf9866aad24ae7a8">crystalIndex</a>++;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    }</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="comment">//******************  Visualization *****************************//</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="comment">//visualization for the block detector</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <a class="code" href="../../dc/df1/classG4VisAttributes.html">G4VisAttributes</a>* blockDetectorVisAtt;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  blockDetectorVisAtt = <span class="keyword">new</span> <a class="code" href="../../dc/df1/classG4VisAttributes.html">G4VisAttributes</a>(<a class="code" href="../../da/daf/classG4Colour.html">G4Colour</a>(1,1.0,1.0));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  blockDetectorVisAtt-&gt;<a class="code" href="../../dc/df1/classG4VisAttributes.html#a2c633b86c23dd2b32229db126885efd6">SetVisibility</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="comment">//blockDetectorVisAtt-&gt;SetForceWireframe (true);</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a526ac3010d4c23cb0d667cb3424a2ffb">blockDetector_logicalV</a>-&gt;<a class="code" href="../../da/dc4/classG4LogicalVolume.html#ac048c68d9aacf76073be2b29c257094e">SetVisAttributes</a> (blockDetectorVisAtt);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="comment">//blockDetector_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  <span class="comment">//visualization for the the box filled with air</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <a class="code" href="../../dc/df1/classG4VisAttributes.html">G4VisAttributes</a>* airBoxVisAtt;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  airBoxVisAtt = <span class="keyword">new</span> <a class="code" href="../../dc/df1/classG4VisAttributes.html">G4VisAttributes</a>(<a class="code" href="../../da/daf/classG4Colour.html">G4Colour</a>(1,1.0,1.0));</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  airBoxVisAtt-&gt;<a class="code" href="../../dc/df1/classG4VisAttributes.html#a2c633b86c23dd2b32229db126885efd6">SetVisibility</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  airBoxVisAtt-&gt;<a class="code" href="../../dc/df1/classG4VisAttributes.html#a51a6a995505b76828ea151f3aede4193">SetForceWireframe</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aaf45caaf274a509680bc365bc4039ea3">airBox_logicalV</a>-&gt;<a class="code" href="../../da/dc4/classG4LogicalVolume.html#ac048c68d9aacf76073be2b29c257094e">SetVisAttributes</a> (airBoxVisAtt);</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aaf45caaf274a509680bc365bc4039ea3">airBox_logicalV</a>-&gt;<a class="code" href="../../da/dc4/classG4LogicalVolume.html#ac048c68d9aacf76073be2b29c257094e">SetVisAttributes</a> (<a class="code" href="../../dc/df1/classG4VisAttributes.html#ae5f4feceb6813d49df3e52f29637df7c">G4VisAttributes::Invisible</a>);</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="comment">//visualization for the crystal</span></div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <a class="code" href="../../dc/df1/classG4VisAttributes.html">G4VisAttributes</a>* crystalVisAtt;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  crystalVisAtt = <span class="keyword">new</span> <a class="code" href="../../dc/df1/classG4VisAttributes.html">G4VisAttributes</a>(<a class="code" href="../../da/daf/classG4Colour.html">G4Colour</a>(0.88,0.55,1.0));</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="comment">//crystalVisAtt-&gt;SetVisibility (true);</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  crystalVisAtt-&gt;<a class="code" href="../../dc/df1/classG4VisAttributes.html#a51a6a995505b76828ea151f3aede4193">SetForceWireframe</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ab9604511c1fd7514081c744bcf1e9405">crystal_logicalV</a>-&gt;<a class="code" href="../../da/dc4/classG4LogicalVolume.html#ac048c68d9aacf76073be2b29c257094e">SetVisAttributes</a> (crystalVisAtt);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ab9604511c1fd7514081c744bcf1e9405">crystal_logicalV</a>-&gt;<a class="code" href="../../da/dc4/classG4LogicalVolume.html#ac048c68d9aacf76073be2b29c257094e">SetVisAttributes</a> (<a class="code" href="../../dc/df1/classG4VisAttributes.html#ae5f4feceb6813d49df3e52f29637df7c">G4VisAttributes::Invisible</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <span class="comment">//always return the physical World</span></div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a3b9d2afe9e0c27f23c7605941fcfeacd">world_physicalV</a>;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aefc1999ce090030bf2c08617089c813b">  319</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aefc1999ce090030bf2c08617089c813b">doiPETDetectorConstruction::ConstructPhantom</a>(<a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>* worldLogical)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;{</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;------------------================- &quot;</span> &lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a>&lt;&lt;<span class="stringliteral">&quot; Phantom has been used  -==================-----------\n&quot;</span>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  <span class="comment">//The following phantoms are defined based on NEMA NU-2 Standards Publication (Performance Measurements of Positron Emission Tomographs)</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> == <span class="stringliteral">&quot;NEMA_imageQualityPhantom_wholeBody&quot;</span>){</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="comment">//The body phantom (also called image quality phantom) can presisely be created by the G4UninSolid method from (1) one big half cylinder (with a diameter of 150 mm), </span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">//(2) two small full (or quarter) cylinders (with 80mm), and (3) a box with a height width of 140 mm and height of 80mm. </span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">//All the material to surround (hold) the water is PMMA.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="comment">//offset position for the body phantom. The center of the body phantom is mover by 35 mm in the +y direction</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aac4da24f791f20d3dc52c30c66117812">yOffsetBodyPhantom</a> =  35*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="comment">//The body phantom is moved by 70 mm in the z direction so that the sphere (cold and hot spheres) are coplanar with the middle slice of the scanner</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27563bcd68d4fec95ed147281b60ac2e">zOffsetBodyPhantom</a> =70*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">//length (in the z-direction) of the body phantom. </span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a> = 180*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>; <span class="comment">//Interior length ( = 180m mm) + wallthickness (= 3mm)</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <span class="comment">//outer radius of the body phantom. (inner radius + wallthinkness)</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a45b449b8f8814e7fcee6bc13373ff073">radiusOfBodyPhantom</a> = 147 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">//wall thickness of the surrounding pmma phantom</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a> = 3 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aca9602cf7448745734b7ad2f964c04e1">radiusOfSmallcyl</a> = 77 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27f8cdbf29c7e91407526ffa1f147518">boxWidth</a> = 140*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">// along the x-axis</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27a1ba7d6d42baf96cf324f1d542cfa8">boxHeight</a> = 77 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>; <span class="comment">// along the y-axis</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">/************************* Surrounding PMMA ***********************************/</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="comment">//define a half cylinder</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* halfcyl_pmma = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;halfcyl_pmma&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a45b449b8f8814e7fcee6bc13373ff073">radiusOfBodyPhantom</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>),(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>)/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,180*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">//define two full small cylinder. (It can be also be a quarter or half). </span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* cyl1_pmma = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;cyl_pmma&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aca9602cf7448745734b7ad2f964c04e1">radiusOfSmallcyl</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>, (<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>)/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* cyl2_pmma = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;cyl_pmma&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aca9602cf7448745734b7ad2f964c04e1">radiusOfSmallcyl</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>, (<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>)/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">//define a box</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>*  box_pmma = <span class="keyword">new</span> <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>(<span class="stringliteral">&quot;box_pmma&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27f8cdbf29c7e91407526ffa1f147518">boxWidth</a>/2, (<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27a1ba7d6d42baf96cf324f1d542cfa8">boxHeight</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>)/2, (<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>)/2);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">//a translation vector for the small cylinder with respect to the half cylinder at position (70 mm,0,0)</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> translation_cyl1 = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27f8cdbf29c7e91407526ffa1f147518">boxWidth</a>/2, 0, 0);</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">//a translation vector for the small cylinder with respect to the half cylinder at position (-70 mm,0,0)</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> translation_cyl2 = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(-<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27f8cdbf29c7e91407526ffa1f147518">boxWidth</a>/2, 0, 0);</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">//translation for the box with respect to half cylinder</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> translation_box = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,-(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27a1ba7d6d42baf96cf324f1d542cfa8">boxHeight</a> + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>)/2, 0);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">//define union1_pmma by uniting the solids of halfcyl and cyl1</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>* union1_pmma = <span class="keyword">new</span> <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>(<span class="stringliteral">&quot;union1&quot;</span>,halfcyl_pmma,cyl1_pmma,0,translation_cyl1);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">//define union2_pmma by uniting the solids of union1_pmma and cyl2</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>* union2_pmma = <span class="keyword">new</span> <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>(<span class="stringliteral">&quot;union2&quot;</span>,union1_pmma,cyl2_pmma,0,translation_cyl2);</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">//********** Now define the solid volume of the surrounding PMMA body phantom *********//</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <span class="comment">//define phantom by uniting the solids of union2_pmma and box_pmma </span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>* phantom = <span class="keyword">new</span> <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>(<span class="stringliteral">&quot;phantom&quot;</span>,union2_pmma,box_pmma,0,translation_box);</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">//Define the logical volume of the body phantom</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9751abebb17a86587b9a841c14834b1b">pmma</a>, <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="comment">//Define the physical volume of the body phantom</span></div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1a287e4b3c2dda2df4ec4f0097a4a455">phantom_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,-<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aac4da24f791f20d3dc52c30c66117812">yOffsetBodyPhantom</a>,-(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a> + 2*<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>)/2 + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27563bcd68d4fec95ed147281b60ac2e">zOffsetBodyPhantom</a>), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="stringliteral">&quot;pmma_phantom_physicalV&quot;</span>, worldLogical, <span class="keyword">false</span>, 0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>); </div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">//****************************** Water inside the PMMA phantom ********************************/</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">//define a half cylinder</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* halfcyl_water = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;halfcyl_water&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a45b449b8f8814e7fcee6bc13373ff073">radiusOfBodyPhantom</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,180*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">//define a full small cylinder phantom. (It can be also be a quarter or half).</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* cyl1_water = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;cyl_water&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aca9602cf7448745734b7ad2f964c04e1">radiusOfSmallcyl</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* cyl2_water = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;cyl_water&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aca9602cf7448745734b7ad2f964c04e1">radiusOfSmallcyl</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">//define a box</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>*  box_water = <span class="keyword">new</span> <a class="code" href="../../d0/d5a/classG4Box.html">G4Box</a>(<span class="stringliteral">&quot;box_water&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27f8cdbf29c7e91407526ffa1f147518">boxWidth</a>/2, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27a1ba7d6d42baf96cf324f1d542cfa8">boxHeight</a>/2, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a>/2);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="comment">//a translation vector for the small cylinder with respect to the half cylinder at position (70 mm,0,0)</span></div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> translation_cyl1_water = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27f8cdbf29c7e91407526ffa1f147518">boxWidth</a>/2, 0, 0);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">//a translation vector for the small cylinder with respect to the half cylinder at position (-70 mm,0,0)</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> translation_cyl2_water = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(-<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27f8cdbf29c7e91407526ffa1f147518">boxWidth</a>/2, 0, 0);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">//translation for the box with respect to half cylinder</span></div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> translation_box_water = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,-<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27a1ba7d6d42baf96cf324f1d542cfa8">boxHeight</a>/2, 0);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="comment">//define union1_water by uniting the solids of halfcyl and cyl1</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>* union1_water = <span class="keyword">new</span> <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>(<span class="stringliteral">&quot;union1&quot;</span>,halfcyl_water,cyl1_water,0,translation_cyl1_water);</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">//define union2_water by uniting the solids of union1_water and cyl2</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>* union2_water = <span class="keyword">new</span> <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>(<span class="stringliteral">&quot;union2&quot;</span>,union1_water,cyl2_water,0,translation_cyl2_water);</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <span class="comment">//********** Now define the solid volume of the body phantom to be filled with water *********//</span></div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    <span class="comment">//define phantom by uniting the solids of union2_water and box_water </span></div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>* phantom_water = <span class="keyword">new</span> <a class="code" href="../../de/d18/classG4UnionSolid.html">G4UnionSolid</a>(<span class="stringliteral">&quot;phantom_water&quot;</span>,union2_water,box_water,0,translation_box_water);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">//Define the logical volume of the body phantom</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8c400faafca3655da372aa3c9116baa0">water_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom_water, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac10954be31e8696fbbeb85223335a8f0">water</a>, <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">//Define the physical volume of the body phantom</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2414c34374fbac1a1b11144623fd29a8">water_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8c400faafca3655da372aa3c9116baa0">water_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="keyword">false</span>, 0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>); </div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">//A lung phantom (with low density material) is inserted in the body phantom. </span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a> wallThiknessOfLungPhantom = 4 *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a998a73549dc3a903fd1a8fadfb2c4d89">radiusOfLungPhantom</a> = 21 *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <span class="comment">//define surrounding pmma phantom for the lung</span></div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">//Define the solid shape for the lung phantom</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantom_lungPMMA = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom_lung&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a998a73549dc3a903fd1a8fadfb2c4d89">radiusOfLungPhantom</a> + wallThiknessOfLungPhantom,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">//Define the logical volume of for the lung phantom</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4c79433869a900af66558574a5f02979">lung_logicalV_PMMA</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom_lungPMMA, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9751abebb17a86587b9a841c14834b1b">pmma</a>, <span class="stringliteral">&quot;coldRegion_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">//Define the physical volume for the lung phantom. The center of the lung phantom is moved (in the y-axis) by the same distance as that of the body phantom.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#abfed47df6cf00f4af34194ec748d22c2">lung_physicalVPMMA</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aac4da24f791f20d3dc52c30c66117812">yOffsetBodyPhantom</a>,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4c79433869a900af66558574a5f02979">lung_logicalV_PMMA</a>, <span class="stringliteral">&quot;coldRegion_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8c400faafca3655da372aa3c9116baa0">water_logicalV</a>, <span class="keyword">false</span>, 0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">//Define the solid shape for the lung phantom</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantom_lung = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom_lung&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a998a73549dc3a903fd1a8fadfb2c4d89">radiusOfLungPhantom</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">//Define the logical volume of for the lung phantom</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aebdf21a180c10444e7fe65180c5c24a6">lung_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom_lung, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa186127a722eb8db607a85b7515886e8">polystyrene</a>, <span class="stringliteral">&quot;coldRegion_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    <span class="comment">//Define the physical volume for the lung phantom and place it in the phantom_lungPMMA.</span></div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a84d3f5deb81824e1da5d086e31c2b528">lung_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aebdf21a180c10444e7fe65180c5c24a6">lung_logicalV</a>, <span class="stringliteral">&quot;coldRegion_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4c79433869a900af66558574a5f02979">lung_logicalV_PMMA</a>, <span class="keyword">false</span>, 0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">//lung_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="comment">//This phantom has the same characteristics with that of NECR phantom except its axial position.</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ae5011bf734f727f81030486cc898f642">hieghtOfTestPhantom</a> = 705* <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a637cac48d2a7a24102d1dc633e03fe15">diameterOfTestPhantom</a> = 203 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;    <a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a> zOffset_testPhantom = 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">//this is to make some gap between the phantoms if necessary</span></div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="comment">//Define the solid shape for the test phantom</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantom_test = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a637cac48d2a7a24102d1dc633e03fe15">diameterOfTestPhantom</a>/2,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ae5011bf734f727f81030486cc898f642">hieghtOfTestPhantom</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="comment">//Define the logical volume of the test phantom</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a0aca40766937813ae241a057a0a4c6e5">test_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom_test, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ace00d6c9f15bbd5c80b9d8f04ddba36b">polyethylene_NEMA</a>, <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;    <span class="comment">//Define the physical volume of the test phantom. The test phantom is placed next to the body phantom. </span></div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#acd3c3c67c7de1db2e087a52fb1d8ee43">test_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ae5011bf734f727f81030486cc898f642">hieghtOfTestPhantom</a>/2+<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27563bcd68d4fec95ed147281b60ac2e">zOffsetBodyPhantom</a> + zOffset_testPhantom), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a0aca40766937813ae241a057a0a4c6e5">test_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, worldLogical, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">//test_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="comment">//Define diameter from the center of the body phantom to the center of the spheres</span></div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9e3d5c1e8417c4cecaffcd0e4dd9899c">distanceFromCenter</a> = 114.4*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">//Define total number of spherical phantoms (both hot and cold spheres)</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a52e6f4b0bae6f7c9b44b9c58bb5a764d">numberOfSpheres</a> = 6;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">//Define the wall thickness of the spherical phantoms. It should be less than or equal to 1 mm according to the NEMA NU-2 protocol.</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8a60f21de24eca922b69d991ebd166ea">sphereWallThickness</a> = 1*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">//The centers of the sphere phantoms are placed 68 mm from the endplate of the body phantom so that the plane through the centers of the spheres is coplanar with to the middile slice of the scanner</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a816ef012e09a209e5ca8e2148d436f43">zOffsetSpherePhantom</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a984e7a5e5deba5f5febec814d79d8648">lengthOfBodyPhantom</a>/2 + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa277b5cb0e7ef4429d7420338388ea45">wallThicknessOfBodyPhantom</a>- <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a27563bcd68d4fec95ed147281b60ac2e">zOffsetBodyPhantom</a>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <span class="comment">//Place the spherical phantoms in the body phantom</span></div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="../../de/d29/G4Types_8hh.html#ae885d08a5d474cadaa9123b42be464fb">G4int</a> i = 0; i &lt; <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a52e6f4b0bae6f7c9b44b9c58bb5a764d">numberOfSpheres</a>; i++){</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;      <span class="keywordflow">if</span>(i == 0) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a> = 37*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">//cold sphere</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      <span class="keywordflow">if</span>(i == 1) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a> = 10*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">// hot sphere</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;      <span class="keywordflow">if</span>(i == 2) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a> = 13*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">// hot sphere</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordflow">if</span>(i == 3) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a> = 17*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">// hot sphere</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordflow">if</span>(i == 4) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a> = 22*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">// hot sphere</span></div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;      <span class="keywordflow">if</span>(i == 5) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a> = 28*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">// cold sphere</span></div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a6574b5b714ed3dca090d82c20a283f72">spherePositionX</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9e3d5c1e8417c4cecaffcd0e4dd9899c">distanceFromCenter</a>/2*std::cos(((<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a>)i*<a class="code" href="../../d4/d51/vector__math__inline_8h.html#a28f133ceff248c953493c42d2287c662">twopi</a>/numberOfSpheres));</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a676a09bb5294267de15efdea8f65be32">spherePositionY</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9e3d5c1e8417c4cecaffcd0e4dd9899c">distanceFromCenter</a>/2*std::sin(((<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a>)i*<a class="code" href="../../d4/d51/vector__math__inline_8h.html#a28f133ceff248c953493c42d2287c662">twopi</a>/numberOfSpheres));</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="comment">//zOffsetBodyPhantom = 0;</span></div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;      <span class="comment">//hot sphere phantoms</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;      <span class="keywordflow">if</span>(i&gt;0 &amp;&amp; i &lt;5){</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="comment">//Surrounding PMMA phantom for the hot sphere</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;        <span class="comment">//Define the solid shape for the surrounding PMMA phantom for the hot sphere pahntom</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        <a class="code" href="../../da/dd6/classG4Sphere.html">G4Sphere</a>* hotSpherePMMA = <span class="keyword">new</span> <a class="code" href="../../da/dd6/classG4Sphere.html">G4Sphere</a>(<span class="stringliteral">&quot;hotSphere&quot;</span>, 0., <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a>/2 + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8a60f21de24eca922b69d991ebd166ea">sphereWallThickness</a>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 180*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        <span class="comment">//Deifne the logical volume of the surrounding PMMA for the hot sphere phantom</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#af2f00282f75b6f8e8849012a9c455972">hotSpherePMMA_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(hotSpherePMMA, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9751abebb17a86587b9a841c14834b1b">pmma</a> , <span class="stringliteral">&quot;hotSphere_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="comment">//Deifne the physical volume of the surrounding PMMA for the hot sphere phantom</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1720a55e20e9fc2154ff3a1a0a8cb3da">hotSpherePMMA_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a6574b5b714ed3dca090d82c20a283f72">spherePositionX</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a676a09bb5294267de15efdea8f65be32">spherePositionY</a>+<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aac4da24f791f20d3dc52c30c66117812">yOffsetBodyPhantom</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a816ef012e09a209e5ca8e2148d436f43">zOffsetSpherePhantom</a>), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#af2f00282f75b6f8e8849012a9c455972">hotSpherePMMA_logicalV</a>, <span class="stringliteral">&quot;hotSphere_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8c400faafca3655da372aa3c9116baa0">water_logicalV</a>, <span class="keyword">false</span>, i,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;        <span class="comment">//Defining and placing the water in the surrounding PMMA for hot sphere</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="comment">//Define the solid shape of the water phantom for the hot sphere phantom</span></div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;        <a class="code" href="../../da/dd6/classG4Sphere.html">G4Sphere</a>* hotSphereWater = <span class="keyword">new</span> <a class="code" href="../../da/dd6/classG4Sphere.html">G4Sphere</a>(<span class="stringliteral">&quot;hotSphere&quot;</span>, 0., <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a>/2, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 180*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="comment">//Define the logical volume of the water phatom for the hot sphere</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa28b90b18518c7ed594ebbd8ccf6b7c0">hotSphereWater_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(hotSphereWater, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac10954be31e8696fbbeb85223335a8f0">water</a> , <span class="stringliteral">&quot;hotSphere_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="comment">//Define the physical volume of the water phatom for the hot sphere</span></div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ab87518928fd41d41645764a053a29ff4">hotSphereWater_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aa28b90b18518c7ed594ebbd8ccf6b7c0">hotSphereWater_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#af2f00282f75b6f8e8849012a9c455972">hotSpherePMMA_logicalV</a>, <span class="keyword">false</span>, i,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <span class="comment">//G4cout&lt;&lt;&quot;Hot sphere &quot;&lt;&lt;i&lt;&lt;&quot; is placed. &quot;&lt;&lt; &quot; sphereDiameter = &quot; &lt;&lt;sphereDiameter &lt;&lt;&quot; &quot;&lt;&lt; &quot;Position &quot; &lt;&lt;spherePositionX&lt;&lt;&quot; &quot;&lt;&lt; spherePositionY&lt;&lt;&quot;, &quot;&lt;&lt;sphereDiameter&lt;&lt;G4endl;</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="comment">//hotSpherePMMA_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        <span class="comment">//hotSphereWater_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      }</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;      <span class="comment">//Cold sphere phantoms</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">if</span>(i==0 || i==5){</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <span class="comment">//Surrounding PMMA phantom for the cold sphere</span></div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="comment">//Define the solid shape for the surrounding PMMA phantom for the cold sphere pahntom</span></div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <a class="code" href="../../da/dd6/classG4Sphere.html">G4Sphere</a>* coldSpherePMMA = <span class="keyword">new</span> <a class="code" href="../../da/dd6/classG4Sphere.html">G4Sphere</a>(<span class="stringliteral">&quot;coldSphere&quot;</span>, 0., <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a>/2 + <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8a60f21de24eca922b69d991ebd166ea">sphereWallThickness</a>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 180*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <span class="comment">//Deifne the logical volume of the surrounding PMMA for the cold sphere phantom</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#abfc6e36c9b245ed3e96027d8eb7254eb">coldSpherePMMA_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(coldSpherePMMA, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9751abebb17a86587b9a841c14834b1b">pmma</a> , <span class="stringliteral">&quot;coldRegion_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <span class="comment">//Deifne the physical volume of the surrounding PMMA for the cold sphere phantom</span></div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a16493124ddeaa0e2582acf10ee4e1a26">coldSpherePMMA_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a6574b5b714ed3dca090d82c20a283f72">spherePositionX</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a676a09bb5294267de15efdea8f65be32">spherePositionY</a>+<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aac4da24f791f20d3dc52c30c66117812">yOffsetBodyPhantom</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a816ef012e09a209e5ca8e2148d436f43">zOffsetSpherePhantom</a>), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#abfc6e36c9b245ed3e96027d8eb7254eb">coldSpherePMMA_logicalV</a>, <span class="stringliteral">&quot;coldRegion_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8c400faafca3655da372aa3c9116baa0">water_logicalV</a>, <span class="keyword">false</span>, i,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;        <span class="comment">//Defining and placing the water in the surrounding PMMA for cold sphere</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">//Define the solid shape of the water phantom for the cold sphere phantom</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <a class="code" href="../../da/dd6/classG4Sphere.html">G4Sphere</a>* coldSphereWater = <span class="keyword">new</span> <a class="code" href="../../da/dd6/classG4Sphere.html">G4Sphere</a>(<span class="stringliteral">&quot;coldSphere&quot;</span>, 0., <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2fb44f8d065bd13cea29b02bc4ebc1c2">sphereDiameter</a>/2, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>, 180*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        <span class="comment">//Define the logical volume of the water phatom for the cold sphere</span></div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a6a92bcfa9e436afde277dbf9bbf7287a">coldSphereWater_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(coldSphereWater, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac10954be31e8696fbbeb85223335a8f0">water</a> , <span class="stringliteral">&quot;coldRegion_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <span class="comment">//Define the physical volume of the water phatom for the cold sphere</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a83cf2bea7d9172f2d276188fb367f75a">coldSphereWater_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a6a92bcfa9e436afde277dbf9bbf7287a">coldSphereWater_logicalV</a>, <span class="stringliteral">&quot;coldRegion_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#abfc6e36c9b245ed3e96027d8eb7254eb">coldSpherePMMA_logicalV</a>, <span class="keyword">false</span>, i,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">//G4cout&lt;&lt;&quot;Cold sphere &quot;&lt;&lt;i&lt;&lt;&quot; is placed. &quot;&lt;&lt; &quot; sphereDiameter = &quot; &lt;&lt;sphereDiameter &lt;&lt;&quot; &quot;&lt;&lt; &quot;Position &quot; &lt;&lt;spherePositionX&lt;&lt;&quot; &quot;&lt;&lt; spherePositionY&lt;&lt;&quot; &quot;&lt;&lt;sphereDiameter&lt;&lt;G4endl;</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        <span class="comment">//coldSpherePMMA_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);</span></div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="comment">//coldSphereWater_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      }       </div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;    }</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  }</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> == <span class="stringliteral">&quot;NEMA_imageQualityPhantom_smallAnimal&quot;</span>){</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    <span class="comment">//The follwoing is for NEMA NU-2 image quality phantom for small animal</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    <span class="comment">//To see the details of the phantom, please see: http://www.qrm.de/content/pdf/QRM-MicroPET-IQ.pdf</span></div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="comment">//Outside radius of PMMMA </span></div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a> = 16.75*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;<span class="comment">// dia=33.5*mm;</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">//Outside length of PMMA</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a> = 63*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="comment">//Dimension of water phantom to be filled with activity (hot region).</span></div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a962c43800c61ea36d00fab7bd7a8a1dd">waterPhantomRadius</a> = 15*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>; </div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9014237226475d8614c272bf396f8a1d">waterPhantomLength</a> = 30*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="comment">//Dimension of rod phantom (hot region)</span></div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#adfa34584f40761bfb444209407f318fe">rodPhantomLength</a> = 20*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">//There are five rod phantoms with different diameters</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9b09eadb2bb08a78fac568cf01b97d7d">numberOfRods</a> = 5;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">//Distance from the center of the cylinder to the center of the rods</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9e3d5c1e8417c4cecaffcd0e4dd9899c">distanceFromCenter</a> = 7*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;  </div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    <span class="comment">//surrounding PMMA phantom.</span></div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">//Define PMMA solid</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantom = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">//Define PMMA logical volume</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9751abebb17a86587b9a841c14834b1b">pmma</a>, <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">//Define PMMA physical volume</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1a287e4b3c2dda2df4ec4f0097a4a455">phantom_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="stringliteral">&quot;pmma_phantom_physicalV&quot;</span>, worldLogical, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="comment">//The rods are placed at one end of the surrounding PMMA cylinderical phantom</span></div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a774d80ab5ccc6edb34d8618b2a7ebe87">rodPositionZ</a> = -<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9014237226475d8614c272bf396f8a1d">waterPhantomLength</a>/2;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;    <span class="keywordflow">for</span>(<a class="code" href="../../de/d29/G4Types_8hh.html#ae885d08a5d474cadaa9123b42be464fb">G4int</a> i = 0; i &lt; <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9b09eadb2bb08a78fac568cf01b97d7d">numberOfRods</a>; i++){</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;      <span class="keywordflow">if</span>(i == 0) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a59dc3e981437ae423aa89f0aa442fecd">rodDiameter</a> = 1 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;      <span class="keywordflow">if</span>(i == 1) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a59dc3e981437ae423aa89f0aa442fecd">rodDiameter</a> = 2 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;      <span class="keywordflow">if</span>(i == 2) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a59dc3e981437ae423aa89f0aa442fecd">rodDiameter</a> = 3 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;      <span class="keywordflow">if</span>(i == 3) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a59dc3e981437ae423aa89f0aa442fecd">rodDiameter</a> = 4 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;      <span class="keywordflow">if</span>(i == 4) <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a59dc3e981437ae423aa89f0aa442fecd">rodDiameter</a> = 5 * <a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#af1f5481610bece66d4d4352f2e01e31c">rodPositionX</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9e3d5c1e8417c4cecaffcd0e4dd9899c">distanceFromCenter</a>*std::cos(((<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a>)i*<a class="code" href="../../d4/d51/vector__math__inline_8h.html#a28f133ceff248c953493c42d2287c662">twopi</a>/numberOfRods));</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2aa07565cd34ef26741d4e95a6d9bdec">rodPositionY</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9e3d5c1e8417c4cecaffcd0e4dd9899c">distanceFromCenter</a>*std::sin(((<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a>)i*<a class="code" href="../../d4/d51/vector__math__inline_8h.html#a28f133ceff248c953493c42d2287c662">twopi</a>/numberOfRods));</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      <span class="comment">//Define rod phantom </span></div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;      <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* rod_phantom = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a59dc3e981437ae423aa89f0aa442fecd">rodDiameter</a>/2,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#adfa34584f40761bfb444209407f318fe">rodPhantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="comment">//Define rod phantom logical volume</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2f67b059e2fa7d1819f2315d2c74678f">rod_phantom_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(rod_phantom, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac10954be31e8696fbbeb85223335a8f0">water</a>, <span class="stringliteral">&quot;rod_phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;      <span class="comment">//Define rod phantom physical volume</span></div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;      <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7ddb890f4f7b1229718588e3778f7dda">rod_phantom_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#af1f5481610bece66d4d4352f2e01e31c">rodPositionX</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2aa07565cd34ef26741d4e95a6d9bdec">rodPositionY</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a774d80ab5ccc6edb34d8618b2a7ebe87">rodPositionZ</a>), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a2f67b059e2fa7d1819f2315d2c74678f">rod_phantom_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="keyword">false</span>, 0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    }</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">//Out dimensions of the surrounding PMMA for cold region chambers</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7b66e3598e649fff1e82d2865f005d0a">chamberPhantomLength</a> = 15*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7de8786bcb0a7f8037e169fb06538662">chamberDiameter</a> = 10*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="comment">//Wall thickness of the surrounding PMMA phantom for the cold region chambers</span></div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a87f4f80d652928b1124328db7e70d16f">wallThicknessOfChamber</a> = 1*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">//The centers of the cold chambers is </span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac0278fb165336c64e9d2dfb67007b953">chamberPositionX</a> = <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9e3d5c1e8417c4cecaffcd0e4dd9899c">distanceFromCenter</a>;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a84e99b366f95efaeb49d40b5f7e9726a">chamberPositionY</a> = 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac82dc57b95b59b9d790febfb6f0c8b06">chamberPositionZ</a> =  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9014237226475d8614c272bf396f8a1d">waterPhantomLength</a>/2 - <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7b66e3598e649fff1e82d2865f005d0a">chamberPhantomLength</a>/2;</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">//hot region filled with water</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* water_phantom = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a962c43800c61ea36d00fab7bd7a8a1dd">waterPhantomRadius</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9014237226475d8614c272bf396f8a1d">waterPhantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a017f69302fa2d4221ff0d87377afce8c">waterPhantom_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(water_phantom, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac10954be31e8696fbbeb85223335a8f0">water</a>, <span class="stringliteral">&quot;waterPhantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="comment">//place the phantom at one end of the PMMA phantom</span></div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a5cedb7328bcf06a10d7883ae1fb4f2ae">WaterPhantom_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#adfa34584f40761bfb444209407f318fe">rodPhantomLength</a>/2), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a017f69302fa2d4221ff0d87377afce8c">waterPhantom_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">//waterPhantom_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="comment">//define the surrounding PMMA chamber</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* chamberPMMA = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;chamber_phantom1&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7de8786bcb0a7f8037e169fb06538662">chamberDiameter</a>/2,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7b66e3598e649fff1e82d2865f005d0a">chamberPhantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">//define the logical volume of the surrounding PMMA chamber</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac7b63e0ba62b75770d66d779faecd620">chamberPMMA_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(chamberPMMA, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a9751abebb17a86587b9a841c14834b1b">pmma</a>, <span class="stringliteral">&quot;chamberPMMA_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <span class="comment">//define the physical volume of the surrounding PMMA chamber</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4b9ea51f58c0efd8a0965becffee4f57">chamberPMMA_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac0278fb165336c64e9d2dfb67007b953">chamberPositionX</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a84e99b366f95efaeb49d40b5f7e9726a">chamberPositionY</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac82dc57b95b59b9d790febfb6f0c8b06">chamberPositionZ</a>), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac7b63e0ba62b75770d66d779faecd620">chamberPMMA_logicalV</a>, <span class="stringliteral">&quot;pmma_phantom_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a017f69302fa2d4221ff0d87377afce8c">waterPhantom_logicalV</a>, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">//Two cold region chambers: one of them filled with (non-radioactive) water and the other with air and is placed inside a hot region</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">//chamber one filled with water (cold region)</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">//Define the cold region chamber phantom to be filled with water</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* chamberWater = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;chamber_phantom1&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7de8786bcb0a7f8037e169fb06538662">chamberDiameter</a>/2 - <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a87f4f80d652928b1124328db7e70d16f">wallThicknessOfChamber</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7b66e3598e649fff1e82d2865f005d0a">chamberPhantomLength</a>/2 - <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a87f4f80d652928b1124328db7e70d16f">wallThicknessOfChamber</a>,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">//Define the logical volume of the cold region phantom</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a12d7b50d6d29fa396778b441009eaabc">chamberWater_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(chamberWater, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac10954be31e8696fbbeb85223335a8f0">water</a>, <span class="stringliteral">&quot;chamber_phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">//Define the physical volume of the cold region phantom</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a70cc9eddcb9b6788cc53036d2fa1f270">chamberWater_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a12d7b50d6d29fa396778b441009eaabc">chamberWater_logicalV</a>, <span class="stringliteral">&quot;coldRegion_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac7b63e0ba62b75770d66d779faecd620">chamberPMMA_logicalV</a>, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">//chamber2 filled with air </span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="comment">//Place the surrounding chamber at another location (at -chamberPositionX)</span></div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a4b9ea51f58c0efd8a0965becffee4f57">chamberPMMA_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(-<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac0278fb165336c64e9d2dfb67007b953">chamberPositionX</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a84e99b366f95efaeb49d40b5f7e9726a">chamberPositionY</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac82dc57b95b59b9d790febfb6f0c8b06">chamberPositionZ</a>), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac7b63e0ba62b75770d66d779faecd620">chamberPMMA_logicalV</a>, <span class="stringliteral">&quot;pmma_phantom_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a017f69302fa2d4221ff0d87377afce8c">waterPhantom_logicalV</a>, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">//Define the logical volume of the cold region phantom to be filled with air</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* chamberAir = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;chamber_phantom1&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7de8786bcb0a7f8037e169fb06538662">chamberDiameter</a>/2 - <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a87f4f80d652928b1124328db7e70d16f">wallThicknessOfChamber</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a7b66e3598e649fff1e82d2865f005d0a">chamberPhantomLength</a>/2 - <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a87f4f80d652928b1124328db7e70d16f">wallThicknessOfChamber</a>,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <span class="comment">//Define its logical volume </span></div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac05e4932ba8b71ec1a0174091bbe3b4f">chamberAir_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(chamberAir, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a95f8e3693b34ef958d69bd4f9f31135e">air</a>, <span class="stringliteral">&quot;chamber_phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">//Define the physical volume of air-filled chamber </span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8f62a57eb2dd4d51793d7f3705b40a96">chamberAir_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac05e4932ba8b71ec1a0174091bbe3b4f">chamberAir_logicalV</a>, <span class="stringliteral">&quot;coldRegion_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ac7b63e0ba62b75770d66d779faecd620">chamberPMMA_logicalV</a>, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> == <span class="stringliteral">&quot;NEMA_phantom_NECR&quot;</span>){</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    <span class="comment">//The phantom is 203 mm in diameter and 700 mm in height and is placed at the center of the AFOV</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="comment">//Define its solid shape </span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantom = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom&quot;</span>, 0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">//Define its logical volume</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ace00d6c9f15bbd5c80b9d8f04ddba36b">polyethylene_NEMA</a>, <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="comment">//Define its physical volume</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1a287e4b3c2dda2df4ec4f0097a4a455">phantom_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0,<a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, worldLogical, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> == <span class="stringliteral">&quot;Phantom_sensitivity&quot;</span>){</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <span class="comment">//There are six diffrent sizes of the sensitivity phantom which differe in their diameter. </span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="comment">//The size of the phantom can be changed via the macro file</span></div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    <span class="comment">//The hight of sensitivity phantom is 700 mm</span></div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;    <span class="comment">//Define the solid shape for the sensitivity phantom which surrounds the fillable polyethylene phantom</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantom = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom_sensitivity&quot;</span>, 0 *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="comment">//Define its logical volume. The Matrial of the tubes are Aluminum</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1722199db0cb4de8b83ba7cd9c9245a8">Aluminum</a>, <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="comment">//Define its physical volume</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1a287e4b3c2dda2df4ec4f0097a4a455">phantom_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, worldLogical, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="comment">//Define the inner most polyethylene (PE) tube with a diameter of 3 mm. This size will not be changed. This is the phantom that holds the source.</span></div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantomPE = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom_sensitivity&quot;</span>, 0 *<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,1.5*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">//Define its logical volume. The Matrial of the tubes are polyethylene</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ab4096365419b61205c6fd41c8b14150a">phantomPE_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantomPE, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ace00d6c9f15bbd5c80b9d8f04ddba36b">polyethylene_NEMA</a>, <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <span class="comment">//Define its physical volume</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a152fafc6d640a1a494a8a39ad39974a6">phantomPE_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(0,0,0), <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ab4096365419b61205c6fd41c8b14150a">phantomPE_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;---------------Phantom dimension: &quot;</span>&lt;&lt;<span class="stringliteral">&quot;radius (mm) = &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a>&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;<span class="stringliteral">&quot;Length (mm) = &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;---------------Phantom position (mm) : &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  }</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> == <span class="stringliteral">&quot;Phantom_spatialResolution&quot;</span>){</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">//The position of the point source phantom can be changed in the macro file. </span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">//It has cylindrical shape and its radius and length can be set in the macro file</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">//Define its sold shape</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantom = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom_point&quot;</span>, 0., <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <span class="comment">//Define its logical volume</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ace00d6c9f15bbd5c80b9d8f04ddba36b">polyethylene_NEMA</a> , <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="comment">//place the phantom</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a> = <a class="code" href="../../d8/dbe/G4ThreeVector_8hh.html#a8a40941423af41c97f26abe9ccfe2bdd">G4ThreeVector</a>(<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>.<a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html#a86646a7299d9b55d1ee3a27b578d30ec">x</a>(),<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>.<a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html#a86ef096e76d7db9e0ea8e10eb742a576">y</a>(),<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>.<a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html#a2dcfdfeae86f250117ea40f086bb231a">z</a>());</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">//Define its physical volume</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1a287e4b3c2dda2df4ec4f0097a4a455">phantom_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, worldLogical, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;---------------Phantom dimension: &quot;</span>&lt;&lt;<span class="stringliteral">&quot;radius (mm) = &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a>&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;<span class="stringliteral">&quot;, Length (mm) = &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;---------------Phantom position: &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>&lt;&lt; <span class="stringliteral">&quot;mm&quot;</span>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;  </div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  }</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> == <span class="stringliteral">&quot;Normalization&quot;</span>)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;  {</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">//The normalization phantom is a hallow cylindrical phantom to represent a (rotating) line source. The source is confined in the phantom.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">//The thickness of the phantom is 3 mm, and its diameter is 350 mm. </span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="comment">//Define the solid shape. </span></div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>* phantom = <span class="keyword">new</span> <a class="code" href="../../d0/d28/classG4Tubs.html">G4Tubs</a>(<span class="stringliteral">&quot;Phantom&quot;</span>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a> - 3*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#a95b12ad94a86320bdf0a38c3e67ad604">mm</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a>,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>/2,0*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>,360*<a class="code" href="../../d8/df2/G4SIunits_8hh.html#af3d6e683a8c0a0cbb0fdc640759e3f49">deg</a>);</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">//Define its logical volume.</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a> = <span class="keyword">new</span> <a class="code" href="../../da/dc4/classG4LogicalVolume.html">G4LogicalVolume</a>(phantom, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#ace00d6c9f15bbd5c80b9d8f04ddba36b">polyethylene_NEMA</a>, <span class="stringliteral">&quot;phantom_logicalV&quot;</span>,0,0,0);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">//Define its physical volume</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1a287e4b3c2dda2df4ec4f0097a4a455">phantom_physicalV</a> = <span class="keyword">new</span> <a class="code" href="../../dd/d4f/classG4PVPlacement.html">G4PVPlacement</a>(0, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>, <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>, <span class="stringliteral">&quot;phantom_physicalV&quot;</span>, worldLogical, <span class="keyword">false</span>, 0,<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a80b9e509a991364afc0c6fb9e943003c">fCheckOverlaps</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;---------------Phantom dimension: &quot;</span>&lt;&lt;<span class="stringliteral">&quot;radius (mm) = &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a>&lt;&lt;<span class="stringliteral">&quot; &quot;</span>&lt;&lt;<span class="stringliteral">&quot;Length = &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <a class="code" href="../../df/de9/G4ios_8hh.html#a6bab195470af25428cd26dffa02b7b27">G4cout</a>&lt;&lt;<span class="stringliteral">&quot;---------------Phantom position : &quot;</span>&lt;&lt;<a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a>&lt;&lt; <span class="stringliteral">&quot;mm&quot;</span>&lt;&lt;<a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <span class="comment">//-------------------------------------================- No Phantom Set -==================------------------</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  {</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <a class="code" href="../../df/de9/G4ios_8hh.html#a1c65fbf48c717f2cc532c3b0e4d5472d">G4cerr</a> &lt;&lt; <span class="stringliteral">&quot;****************************************\nERROR: Phantom Remains: &quot;</span> &lt;&lt; <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> &lt;&lt;<span class="stringliteral">&quot;\n****************************************&quot;</span> &lt;&lt; <a class="code" href="../../df/de9/G4ios_8hh.html#a1da9a9ae45da8b5783d529c0431af08e">G4endl</a>;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="../../d0/d12/namespaceg4zmq.html#ac0a320baaea2957915124839b1e2be53">exit</a>(0);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  }</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  <a class="code" href="../../dc/df1/classG4VisAttributes.html">G4VisAttributes</a>* phantomVisAtt;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  phantomVisAtt = <span class="keyword">new</span> <a class="code" href="../../dc/df1/classG4VisAttributes.html">G4VisAttributes</a>(<a class="code" href="../../da/daf/classG4Colour.html">G4Colour</a>(0.88,0.55,1.0));</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  phantomVisAtt-&gt;<a class="code" href="../../dc/df1/classG4VisAttributes.html#a2c633b86c23dd2b32229db126885efd6">SetVisibility</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  phantomVisAtt-&gt;<a class="code" href="../../dc/df1/classG4VisAttributes.html#a51a6a995505b76828ea151f3aede4193">SetForceWireframe</a> (<span class="keyword">true</span>);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a8998c6360ea08bd025d1d45603561889">phantom_logicalV</a>-&gt;<a class="code" href="../../da/dc4/classG4LogicalVolume.html#ac048c68d9aacf76073be2b29c257094e">SetVisAttributes</a> (phantomVisAtt);</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  <span class="comment">//phantom_logicalV-&gt;SetVisAttributes (G4VisAttributes::Invisible);  </span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;}</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">//Change the type of the phantom via .mac file</span></div>
<div class="line"><a name="l00772"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aadd5cab2939e15e597a6ce747f7a9028">  772</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#aadd5cab2939e15e597a6ce747f7a9028">doiPETDetectorConstruction::ChangePhantom</a>(<a class="code" href="../../d5/d72/classG4String.html">G4String</a> NewPhantomtype)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;{</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a36e0526fea933a27f0e9d2aaf9a327e1">PhantomType</a> = NewPhantomtype;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;}</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;<span class="comment">//Change position of the phantom via .mac file</span></div>
<div class="line"><a name="l00778"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#abda9187be2bc871c997498e9192d1d6e">  778</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#abda9187be2bc871c997498e9192d1d6e">doiPETDetectorConstruction::SetPhantomPosition</a>(<a class="code" href="../../da/dcf/classCLHEP_1_1Hep3Vector.html">G4ThreeVector</a> NewphantomPosition)</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;{</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a835a39a6b294a87906d77b55c2900dc9">phantomPosition</a> = NewphantomPosition;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;}</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;<span class="comment">//Change the radius of the phantom via .mac file</span></div>
<div class="line"><a name="l00784"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1c5df779c44fa7fe67cbacc5556a1238">  784</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a1c5df779c44fa7fe67cbacc5556a1238">doiPETDetectorConstruction::SetPhantomRadius</a>(<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a> newPhantomRadius){</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a978bd797808d8af4f5801b010bd4604b">phantomRadius</a> = newPhantomRadius;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;}</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="comment">//Change the length of the phantom via .mac file</span></div>
<div class="line"><a name="l00789"></a><span class="lineno"><a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a471760a7a7921a45081572bd1557eed3">  789</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a471760a7a7921a45081572bd1557eed3">doiPETDetectorConstruction::SetPhantomLength</a>(<a class="code" href="../../de/d29/G4Types_8hh.html#a32db767526b46c86b0892027f19fd85b">G4double</a> newPhantomLength){</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="../../d2/dc7/classdoiPETDetectorConstruction.html#a333547d6b8bfdae89105288ae7c7eacb">phantomLength</a> = newPhantomLength;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;}</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->

<!-- start footer part -->
<div id="nav-path" class="navpath">
	<!-- id is needed for treeview function! -->
	<ul>
		<li class="navelem"><a class="el" href="../../dir_4d87d85fee4e74691eee74cd8a41d700.html">geant4</a></li><li class="navelem"><a class="el" href="../../dir_3e0f9ad68b62e5b1022dcd85cce74a3f.html">tree</a></li><li class="navelem"><a class="el" href="../../dir_8ca98b73da7a01a64c778f3492217f52.html">geant4-10.6-release</a></li><li class="navelem"><a class="el" href="../../dir_904489b47e1bb7802f4b9a53a66b9658.html">examples</a></li><li class="navelem"><a class="el" href="../../dir_bd840d19c9a99a3272da7cf1e23694d9.html">advanced</a></li><li class="navelem"><a class="el" href="../../dir_4c99b69da32cd34e8b9e7f1fc2f69816.html">doiPET</a></li><li class="navelem"><a class="el" href="../../dir_4635d7a6e42ae089c682d459cc847310.html">src</a></li><li class="navelem"><a class="el" href="../../de/d26/doiPETDetectorConstruction_8cc.html">doiPETDetectorConstruction.cc</a></li>
		<li class="footer">
		Built by <a href="mailto:jhuang@bnl.gov">Jin Huang</a></em>.
			updated: <em>Wed Jun 29 2022 17:24:57</em> using <a
			href="http://www.doxygen.org/index.html"> <img class="footer"
				src="../../doxygen.png" alt="doxygen" /></a> 1.8.2 
				with <a href="https://github.com/ECCE-EIC">ECCE GitHub integration</a>
		</li>
	</ul>
</div>
</body>
</html>
